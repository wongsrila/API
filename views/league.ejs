<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head', {headTitle: 'Dashboard'}) %>
  <body>
    <div id="events"></div>

    <section class="league-selector">
      <a class="btn" href="/">Home</a>
      <a class="btn" href="/league/88">Eredivisie</a>
      <a class="btn" href="/league/39">Premier League</a>
      <a class="btn" href="/league/78">Bundesliga</a>
      <a class="btn" href="/league/140">LaLiga</a>
      <a class="btn" href="/league/135">Serie A</a>
      <a class="btn" href="/league/61">Ligue 1</a>
    </section>
    <div class="container">
      <table>
        <tr>
          <td>Club</td>
          <td>MP</td>
          <td>W</td>
          <td>D</td>
          <td>L</td>
          <td>GF</td>
          <td>GA</td>
          <td>GD</td>
          <th>Pts</th>
          <td>Last 5</td>
        </tr>
        <% leagueStandings.forEach(row => { %>
        <tr>
          <td
            class="pointer-evnt"
            onclick="window.location='/team/<%= row.team.id %>';"
          >
            <%= row.rank %> <img src="<%= row.team.logo %>" width="18" /> <%=
            row.team.name %>
          </td>
          <td><%= row.all.played %></td>
          <td><%= row.all.win %></td>
          <td><%= row.all.draw %></td>
          <td><%= row.all.lose %></td>
          <td><%= row.all.goals.for %></td>
          <td><%= row.all.goals.against %></td>
          <td><%= row.all.goals.for - row.all.goals.against %></td>
          <th><%= row.points %></th>
          <td>
            <% row.form.split('').forEach(char => { %> <% if(char === 'W') { %>
            <span class=""
              ><img
                src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iV2luIj4KICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgZmlsbD0iIzNBQTc1NyIgY3g9IjgiIGN5PSI4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlBhdGgiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgcG9pbnRzPSI2LjQgOS43NiA0LjMyIDcuNjggMy4yIDguOCA2LjQgMTIgMTIuOCA1LjYgMTEuNjggNC40OCI+PC9wb2x5Z29uPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg=="
                class="nB9CIe"
                alt=""
            /></span>
            <% } else if(char === 'D') { %>
            <span
              ><img
                src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iRHJhdyI+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiM5QUEwQTYiIGN4PSI4IiBjeT0iOCIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjUgNyAxMSA3IDExIDkgNSA5Ij48L3BvbHlnb24+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K"
                class="nB9CIe"
                alt=""
            /></span>
            <% } else if(char === 'L') { %>
            <span
              ><img
                src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iTG9zcyI+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiNFQTQzMzUiIGN4PSI4IiBjeT0iOCIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIHJvdGF0ZSgtMzE1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHBvaW50cz0iMTIgOC44IDguOCA4LjggOC44IDEyIDcuMiAxMiA3LjIgOC44IDQgOC44IDQgNy4yIDcuMiA3LjIgNy4yIDQgOC44IDQgOC44IDcuMiAxMiA3LjIiPjwvcG9seWdvbj4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="
                class="nB9CIe"
                alt=""
            /></span>
            <% } %> <% }) %>
          </td>
        </tr>
        <% }) %>
      </table>
      <div class="upcoming-wrapper">
        <h1>Upcoming matches</h1>
        <% getUpcomingGames.forEach(game => { %>
        <div class="fixture-wrapper">
          <div class="home-team">
            <img class="team-logo" src="<%= game.teams.home.logo %>" />
            <h3><%= game.teams.home.name %></h3>
          </div>
          <div class="fixture-info">
            <p><%= formatDate(game.fixture.date) %></p>
            <p><%= formatTimestampAsTime(game.fixture.timestamp) %></p>
            <h3>VS</h3>
          </div>
          <div class="away-team">
            <img class="team-logo" src="<%= game.teams.away.logo %>" />
            <h3><%= game.teams.away.name %></h3>
          </div>
        </div>
        <% }) %>
      </div>
    </div>
    <script src="/js/main.js"></script>
  </body>
</html>
